# Cursor Rules

## 言語設定
- **すべての出力は日本語で記述してください**
- コミットメッセージ、changelog、コードコメント、説明文は必ず日本語で記述
- Gitの設定が日本語（UTF-8）になっているため、日本語での記述を優先

## コミットメッセージの形式
- コミットメッセージは必ず日本語で記述
- 形式: `[種類] 変更内容の簡潔な説明`
- 種類の例: `追加`, `修正`, `削除`, `改善`, `リファクタリング`, `ドキュメント`, `設定`
- 変更内容を簡潔かつ明確に説明
- 必要に応じて詳細な説明を追加（空行を挟んで2行目以降に記述）

## Changelog生成
- changelogは必ず日本語で生成
- 変更内容を分かりやすく説明
- 以下のカテゴリで分類:
  - **追加**: 新機能の追加
  - **修正**: バグ修正や不具合の修正
  - **改善**: 既存機能の改善や最適化
  - **変更**: 既存機能の変更
  - **削除**: 機能やファイルの削除
  - **ドキュメント**: ドキュメントの更新
  - **設定**: 設定ファイルや環境設定の変更
- 各変更項目は箇条書きで明確に記述

## コードコメント
- コード内のコメントも日本語で記述
- 関数やクラスの説明は日本語でdocstringを記述

## 新しいPythonファイルを追加する際のルール

### 既存コードの確認と統合
- **新しいPythonファイルを追加する前に、必ず既存コードを確認すること**
- `tools/`ディレクトリに既存のツールに統合できる機能がないか確認
- 既存ツールに統合できる場合は、新しいファイルを作成せずに既存ツールに追加すること

### 統合の判断基準
- Markdownファイルの処理機能 → `tools/markdown_utils.py` または `tools/markdown_fixer.py` に統合
- 会社情報の管理機能 → `tools/company_info_manager.py` に統合
- コスト計算・概算機能 → `tools/cost_estimator.py` に統合
- 一度限りの変換スクリプト → `tools/cli.py` にコマンドとして追加

### 新しいツールの追加
- 既存ツールに統合できない場合のみ、`tools/`ディレクトリに新しいモジュールを作成
- 再利用可能な関数として設計（単一責任の原則）
- `tools/cli.py`にコマンドを追加してCLI経由で使用可能にする
- ドキュメント文字列（docstring）を必ず追加

### 一度限りのスクリプト
- 一度だけ実行する変換スクリプトや実験的なコードは`scripts_archive/`に配置
- 実行後は`scripts_archive/`に移動することを推奨

### 設計原則
- **再利用性**: モジュール化、関数の独立性、設定の外部化
- **保守性**: 明確な命名、ドキュメント、型ヒント
- **拡張性**: プラガブルな設計、CLI統合、設定の柔軟性

### チェックリスト
新しいPythonファイルを追加する前に：
- [ ] `tools/`ディレクトリに既存の機能がないか確認
- [ ] 既存ツールに統合できるか検討
- [ ] 再利用可能な設計になっているか
- [ ] `tools/cli.py`にコマンドを追加するか検討
- [ ] ドキュメントを追加

詳細は`DEVELOPMENT_GUIDELINES.md`を参照すること。